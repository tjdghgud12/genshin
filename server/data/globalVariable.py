from schemas.fightProp import fightPropSchema
from enum import Enum


class fightPropMpa(str, Enum):
    BASE_HP = "FIGHT_PROP_BASE_HP"
    HP = "FIGHT_PROP_HP"
    HP_PERCENT = "FIGHT_PROP_HP_PERCENT"
    BASE_ATTACK = "FIGHT_PROP_BASE_ATTACK"
    ATTACK = "FIGHT_PROP_ATTACK"
    ATTACK_PERCENT = "FIGHT_PROP_ATTACK_PERCENT"
    BASE_DEFENSE = "FIGHT_PROP_BASE_DEFENSE"
    DEFENSE = "FIGHT_PROP_DEFENSE"
    DEFENSE_PERCENT = "FIGHT_PROP_DEFENSE_PERCENT"
    ELEMENT_MASTERY = "FIGHT_PROP_ELEMENT_MASTERY"
    CHARGE_EFFICIENCY = "FIGHT_PROP_CHARGE_EFFICIENCY"
    CRITICAL = "FIGHT_PROP_CRITICAL"
    CRITICAL_HURT = "FIGHT_PROP_CRITICAL_HURT"
    PHYSICAL_ADD_HURT = "FIGHT_PROP_PHYSICAL_ADD_HURT"
    FIRE_ADD_HURT = "FIGHT_PROP_FIRE_ADD_HURT"
    ELEC_ADD_HURT = "FIGHT_PROP_ELEC_ADD_HURT"
    WATER_ADD_HURT = "FIGHT_PROP_WATER_ADD_HURT"
    GRASS_ADD_HURT = "FIGHT_PROP_GRASS_ADD_HURT"
    WIND_ADD_HURT = "FIGHT_PROP_WIND_ADD_HURT"
    ROCK_ADD_HURT = "FIGHT_PROP_ROCK_ADD_HURT"
    ICE_ADD_HURT = "FIGHT_PROP_ICE_ADD_HURT"
    ATTACK_ADD_HURT = "FIGHT_PROP_ATTACK_ADD_HURT"
    PHYSICAL_RES_MINUS = "FIGHT_PROP_PHYSICAL_RES_MINUS"
    FIRE_RES_MINUS = "FIGHT_PROP_FIRE_RES_MINUS"
    WATER_RES_MINUS = "FIGHT_PROP_WATER_RES_MINUS"
    ICE_RES_MINUS = "FIGHT_PROP_ICE_RES_MINUS"
    ELEC_RES_MINUS = "FIGHT_PROP_ELEC_RES_MINUS"
    GRASS_RES_MINUS = "FIGHT_PROP_GRASS_RES_MINUS"
    WIND_RES_MINUS = "FIGHT_PROP_WIND_RES_MINUS"
    ROCK_RES_MINUS = "FIGHT_PROP_ROCK_RES_MINUS"
    DEFENSE_MINUS = "FIGHT_PROP_DEFENSE_MINUS"
    DEFENSE_IGNORE = "FIGHT_PROP_DEFENSE_IGNORE"
    HEAL_ADD = "FIGHT_PROP_HEAL_ADD"
    ATTACK_ADD_POINT = "FIGHT_PROP_ATTACK_ADD_POINT"  # 계수 추가
    ELEC_ADD_POINT = "FIGHT_PROP_ELEC_ADD_POINT"
    ICE_CRITICAL_HURT = "FIGHT_PROP_ICE_CRITICAL_HURT"
    ICE_ADD_POINT = "FIGHT_PROP_ICE_ADD_POINT"

    # 일반공격 관련
    NOMAL_ATTACK_CRITICAL = "FIGHT_PROP_NOMAL_ATTACK_CRITICAL"
    NOMAL_ATTACK_CRITICAL_HURT = "FIGHT_PROP_NOMAL_ATTACK_CRITICAL_HURT"
    NOMAL_ATTACK_FIRE_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_FIRE_ADD_HURT"
    NOMAL_ATTACK_ELEC_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_ELEC_ADD_HURT"
    NOMAL_ATTACK_WATER_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_WATER_ADD_HURT"
    NOMAL_ATTACK_GRASS_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_GRASS_ADD_HURT"
    NOMAL_ATTACK_WIND_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_WIND_ADD_HURT"
    NOMAL_ATTACK_ROCK_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_ROCK_ADD_HURT"
    NOMAL_ATTACK_ICE_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_ICE_ADD_HURT"
    NOMAL_ATTACK_ATTACK_ADD_HURT = "FIGHT_PROP_NOMAL_ATTACK_ATTACK_ADD_HURT"
    NOMAL_ATTACK_ATTACK_ADD_POINT = "FIGHT_PROP_NOMAL_ATTACK_ATTACK_ADD_POINT"
    NOMAL_ATTACK_ELEC_ADD_POINT = "FIGHT_PROP_NOMAL_ATTACK_ELEC_ADD_POINT"

    # 강공격 관련
    CHARGED_ATTACK_CRITICAL = "FIGHT_PROP_CHARGED_ATTACK_CRITICAL"
    CHARGED_ATTACK_CRITICAL_HURT = "FIGHT_PROP_CHARGED_ATTACK_CRITICAL_HURT"
    CHARGED_ATTACK_FIRE_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_FIRE_ADD_HURT"
    CHARGED_ATTACK_ELEC_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_ELEC_ADD_HURT"
    CHARGED_ATTACK_WATER_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_WATER_ADD_HURT"
    CHARGED_ATTACK_GRASS_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_GRASS_ADD_HURT"
    CHARGED_ATTACK_WIND_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_WIND_ADD_HURT"
    CHARGED_ATTACK_ROCK_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_ROCK_ADD_HURT"
    CHARGED_ATTACK_ICE_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_ICE_ADD_HURT"
    CHARGED_ATTACK_ATTACK_ADD_HURT = "FIGHT_PROP_CHARGED_ATTACK_ATTACK_ADD_HURT"
    CHARGED_ATTACK_ATTACK_ADD_POINT = "FIGHT_PROP_CHARGED_ATTACK_ATTACK_ADD_POINT"
    CHARGED_ATTACK_ELEC_ADD_POINT = "FIGHT_PROP_CHARGED_ATTACK_ELEC_ADD_POINT"

    # 낙하공격 관련
    FALLING_ATTACK_CRITICAL = "FIGHT_PROP_FALLING_ATTACK_CRITICAL"
    FALLING_ATTACK_CRITICAL_HURT = "FIGHT_PROP_FALLING_ATTACK_CRITICAL_HURT"
    FALLING_ATTACK_FIRE_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_FIRE_ADD_HURT"
    FALLING_ATTACK_ELEC_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_ELEC_ADD_HURT"
    FALLING_ATTACK_WATER_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_WATER_ADD_HURT"
    FALLING_ATTACK_GRASS_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_GRASS_ADD_HURT"
    FALLING_ATTACK_WIND_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_WIND_ADD_HURT"
    FALLING_ATTACK_ROCK_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_ROCK_ADD_HURT"
    FALLING_ATTACK_ICE_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_ICE_ADD_HURT"
    FALLING_ATTACK_ATTACK_ADD_HURT = "FIGHT_PROP_FALLING_ATTACK_ATTACK_ADD_HURT"
    FALLING_ATTACK_ATTACK_ADD_POINT = "FIGHT_PROP_FALLING_ATTACK_ATTACK_ADD_POINT"
    FALLING_ATTACK_ELEC_ADD_POINT = "FIGHT_PROP_FALLING_ATTACK_ELEC_ADD_POINT"

    # 원소 전투 스킬 관련
    ELEMENT_SKILL_CRITICAL = "FIGHT_PROP_ELEMENT_SKILL_CRITICAL"
    ELEMENT_SKILL_CRITICAL_HURT = "FIGHT_PROP_ELEMENT_SKILL_CRITICAL_HURT"
    ELEMENT_SKILL_FIRE_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_FIRE_ADD_HURT"
    ELEMENT_SKILL_ELEC_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_ELEC_ADD_HURT"
    ELEMENT_SKILL_WATER_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_WATER_ADD_HURT"
    ELEMENT_SKILL_GRASS_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_GRASS_ADD_HURT"
    ELEMENT_SKILL_WIND_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_WIND_ADD_HURT"
    ELEMENT_SKILL_ROCK_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_ROCK_ADD_HURT"
    ELEMENT_SKILL_ICE_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_ICE_ADD_HURT"
    ELEMENT_SKILL_ATTACK_ADD_HURT = "FIGHT_PROP_ELEMENT_SKILL_ATTACK_ADD_HURT"
    ELEMENT_SKILL_ATTACK_ADD_POINT = "FIGHT_PROP_ELEMENT_SKILL_ATTACK_ADD_POINT"
    ELEMENT_SKILL_ELEC_ADD_POINT = "FIGHT_PROP_ELEMENT_SKILL_ELEC_ADD_POINT"
    ELEMENT_SKILL_DEFENSE_IGNORE = "FIGHT_PROP_ELEMENT_SKILL_DEFENSE_IGNORE"

    # 원소 폭발 관련
    ELEMENT_BURST_CRITICAL = "FIGHT_PROP_ELEMENT_BURST_CRITICAL"
    ELEMENT_BURST_CRITICAL_HURT = "FIGHT_PROP_ELEMENT_BURST_CRITICAL_HURT"
    ELEMENT_BURST_FIRE_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_FIRE_ADD_HURT"
    ELEMENT_BURST_ELEC_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_ELEC_ADD_HURT"
    ELEMENT_BURST_WATER_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_WATER_ADD_HURT"
    ELEMENT_BURST_GRASS_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_GRASS_ADD_HURT"
    ELEMENT_BURST_WIND_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_WIND_ADD_HURT"
    ELEMENT_BURST_ROCK_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_ROCK_ADD_HURT"
    ELEMENT_BURST_ICE_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_ICE_ADD_HURT"
    ELEMENT_BURST_ATTACK_ADD_HURT = "FIGHT_PROP_ELEMENT_BURST_ATTACK_ADD_HURT"
    ELEMENT_BURST_ATTACK_ADD_POINT = "FIGHT_PROP_ELEMENT_BURST_ATTACK_ADD_POINT"
    ELEMENT_BURST_ELEC_ADD_POINT = "FIGHT_PROP_ELEMENT_BURST_ELEC_ADD_POINT"

    # 원소 반응 관련
    OVERLOADED_ADD_HURT = "FIGHT_PROP_OVERLOADED_ADD_HURT"  # 과부하
    ELECTROCHARGED_ADD_HURT = "FIGHT_PROP_ELECTROCHARGED_ADD_HURT"  # 감전
    SUPERCONDUCT_ADD_HURT = "FIGHT_PROP_SUPERCONDUCT_ADD_HURT"  # 초전도
    SHATTER_ADD_HURT = "FIGHT_PROP_SHATTER_ADD_HURT"  # 쇄빙
    AGGRAVATE_ADD_HURT = "FIGHT_PROP_AGGRAVATE_ADD_HURT"  # 촉진
    SPREAD_ADD_HURT = "FIGHT_PROP_SPREAD_ADD_HURT"  # 발산
    VAPORIZE_ADD_HURT = "FIGHT_PROP_VAPORIZE_ADD_HURT"  # 증발
    MELT_ADD_HURT = "FIGHT_PROP_MELT_ADD_HURT"  # 융해
    SWIRL_ADD_HURT = "FIGHT_PROP_SWIRL_ADD_HURT"  # 확산

    # 개별 치명타 옵션 보유 반응
    HYPERBLOOM_CRITICAL = "FIGHT_PROP_HYPERBLOOM_CRITICAL"
    HYPERBLOOM_CRITICAL_HURT = "FIGHT_PROP_HYPERBLOOM_CRITICAL_HURT"
    HYPERBLOOM_ADD_HURT = "FIGHT_PROP_HYPERBLOOM_ADD_HURT"  # 만개

    BLOOM_CRITICAL = "FIGHT_PROP_BLOOM_CRITICAL"
    BLOOM_CRITICAL_HURT = "FIGHT_PROP_BLOOM_CRITICAL_HURT"
    BLOOM_ADD_HURT = "FIGHT_PROP_BLOOM_ADD_HURT"  # 개화

    BURNING_CRITICAL = "FIGHT_PROP_BURNING_CRITICAL"
    BURNING_CRITICAL_HURT = "FIGHT_PROP_BURNING_CRITICAL_HURT"
    BURNING_ADD_HURT = "FIGHT_PROP_BURNING_ADD_HURT"  # 연소

    BURGEON_CRITICAL = "FIGHT_PROP_BURGEON_CRITICAL"
    BURGEON_CRITICAL_HURT = "FIGHT_PROP_BURGEON_CRITICAL_HURT"
    BURGEON_ADD_HURT = "FIGHT_PROP_BURGEON_ADD_HURT"  # 발화

    LUNARCHARGED_CRITICAL = "FIGHT_PROP_LUNARCHARGED_CRITICAL"
    LUNARCHARGED_CRITICAL_HURT = "FIGHT_PROP_LUNARCHARGED_CRITICAL_HURT"
    LUNARCHARGED_ADD_HURT = "FIGHT_PROP_LUNARCHARGED_ADD_HURT"  # 달감전

    # 최종 곱연산
    FINAL_LUNARCHARGED_ADD_HURT = "FIGHT_PROP_FINAL_LUNARCHARGED_ADD_HURT"
    FINAL_NOMAL_ATTACK_ATTACK_ADD_HURT = "FIGHT_PROP_FINAL_NOMAL_ATTACK_ATTACK_ADD_HURT"
    FINAL_CHARGED_ATTACK_ATTACK_ADD_HURT = "FIGHT_PROP_FINAL_CHARGED_ATTACK_ATTACK_ADD_HURT"
    FINAL_ELEMENT_BURST_ATTACK_ADD_HURT = "FIGHT_PROP_FINAL_ELEMENT_BURST_ATTACK_ADD_HURT"


fightPropMap = {
    "1": "FIGHT_PROP_BASE_HP",
    "2": "FIGHT_PROP_HP",
    "3": "FIGHT_PROP_HP_PERCENT",
    "4": "FIGHT_PROP_BASE_ATTACK",
    "5": "FIGHT_PROP_ATTACK",
    "6": "FIGHT_PROP_ATTACK_PERCENT",
    "7": "FIGHT_PROP_BASE_DEFENSE",
    "8": "FIGHT_PROP_DEFENSE",
    "9": "FIGHT_PROP_DEFENSE_PERCENT",
    "10": "FIGHT_PROP_BASE_SPEED",
    "11": "FIGHT_PROP_SPEED_PERCENT",
    "20": "FIGHT_PROP_CRITICAL",
    "22": "FIGHT_PROP_CRITICAL_HURT",
    "23": "FIGHT_PROP_CHARGE_EFFICIENCY",
    "26": "FIGHT_PROP_HEAL_ADD",
    "27": "FIGHT_PROP_HEALED_ADD",
    "28": "FIGHT_PROP_ELEMENT_MASTERY",
    "29": "FIGHT_PROP_PHYSICAL_SUB_HURT",
    "30": "FIGHT_PROP_PHYSICAL_ADD_HURT",
    "40": "FIGHT_PROP_FIRE_ADD_HURT",
    "41": "FIGHT_PROP_ELEC_ADD_HURT",
    "42": "FIGHT_PROP_WATER_ADD_HURT",
    "43": "FIGHT_PROP_GRASS_ADD_HURT",
    "44": "FIGHT_PROP_WIND_ADD_HURT",
    "45": "FIGHT_PROP_ROCK_ADD_HURT",
    "46": "FIGHT_PROP_ICE_ADD_HURT",
    "50": "FIGHT_PROP_FIRE_SUB_HURT",
    "51": "FIGHT_PROP_ELEC_SUB_HURT",
    "52": "FIGHT_PROP_WATER_SUB_HURT",
    "53": "FIGHT_PROP_GRASS_SUB_HURT",
    "54": "FIGHT_PROP_WIND_SUB_HURT",
    "55": "FIGHT_PROP_ROCK_SUB_HURT",
    "56": "FIGHT_PROP_ICE_SUB_HURT",
    "80": "FIGHT_PROP_SKILL_CD_MINUS_RATIO",
    "81": "FIGHT_PROP_SHIELD_COST_MINUS_RATIO",
    "1010": "FIGHT_PROP_CUR_HP",
    "2000": "FIGHT_PROP_MAX_HP",
    "2001": "FIGHT_PROP_CUR_ATTACK",
    "2002": "FIGHT_PROP_CUR_DEFENSE",
    "2003": "FIGHT_PROP_CUR_SPEED",
}


levelCoefficientMap = [
    0.0,
    17.165605,
    18.535048,
    19.904854,
    21.274903,
    22.6454,
    24.649613,
    26.640643,
    28.868587,
    31.367679,
    34.143343,
    37.201,
    40.66,
    44.446668,
    48.563519,
    53.74848,
    59.081897,
    64.420047,
    69.724455,
    75.123137,
    80.584775,
    86.112028,
    91.703742,
    97.244628,
    102.812644,
    108.409563,
    113.201694,
    118.102906,
    122.979318,
    129.72733,
    136.29291,
    142.67085,
    149.029029,
    155.416987,
    161.825495,
    169.106313,
    176.518077,
    184.072741,
    191.709518,
    199.556908,
    207.382042,
    215.3989,
    224.165667,
    233.50216,
    243.350573,
    256.063067,
    268.543493,
    281.526075,
    295.013648,
    309.067188,
    323.601597,
    336.757542,
    350.530312,
    364.482705,
    378.619181,
    398.600417,
    416.398254,
    434.386996,
    452.951051,
    472.606217,
    492.88489,
    513.568543,
    539.103198,
    565.510563,
    592.538753,
    624.443427,
    651.470148,
    679.49683,
    707.79406,
    736.671422,
    765.640231,
    794.773403,
    824.677397,
    851.157781,
    877.74209,
    914.229123,
    946.746752,
    979.411386,
    1011.223022,
    1044.791746,
    1077.443668,
    1109.99754,
    1142.976615,
    1176.369483,
    1210.184393,
    1253.835659,
    1288.952801,
    1325.484092,
    1363.456928,
    1405.097377,
    1446.853458,
    1488.215547,
    1528.444567,
    1580.367911,
    1630.847528,
    1711.197785,
    1780.453941,
    1847.322809,
    1911.474309,
    1972.864342,
    2030.071808,
]


fightProp = fightPropSchema()
fightPropKeys = fightProp.extractFightPropKeys()
fightPropTypes = fightProp.extractFightPropTypes()
